# 隐藏底部导航栏修改说明

## 修改时间
2025-10-23

## 修改目标

为以下三个页面隐藏底部导航栏：
1. **积分商城** (PointsMall.vue)
2. **苏品苏货** (LocalProducts.vue)
3. **国货潮品** (TrendyProducts.vue)

## 修改方案

在路由配置文件 `src/router/index.ts` 中，为这三个页面的路由添加 `meta: { hideTabBar: true }` 属性。

## 具体修改

### 文件：`src/router/index.ts`

#### 1. 积分商城（第22-26行）

**修改前：**
```typescript
{
  path: '/points-mall',
  name: 'PointsMall',
  component: () => import('../views/PointsMall.vue')
},
```

**修改后：**
```typescript
{
  path: '/points-mall',
  name: 'PointsMall',
  component: () => import('../views/PointsMall.vue'),
  meta: { hideTabBar: true }  // ✅ 新增
},
```

#### 2. 国货潮品（第93-97行）

**修改前：**
```typescript
{
  path: '/trendy-products',
  name: 'TrendyProducts',
  component: () => import('../views/TrendyProducts.vue')
},
```

**修改后：**
```typescript
{
  path: '/trendy-products',
  name: 'TrendyProducts',
  component: () => import('../views/TrendyProducts.vue'),
  meta: { hideTabBar: true }  // ✅ 新增
},
```

#### 3. 苏品苏货（第148-152行）

**修改前：**
```typescript
{
  path: '/local-products',
  name: 'LocalProducts',
  component: () => import('../views/LocalProducts.vue'),
},
```

**修改后：**
```typescript
{
  path: '/local-products',
  name: 'LocalProducts',
  component: () => import('../views/LocalProducts.vue'),
  meta: { hideTabBar: true }  // ✅ 新增
},
```

## 工作原理

项目中的底部导航栏组件（TabBar）会检查当前路由的 `meta.hideTabBar` 属性：
- 如果 `meta.hideTabBar === true`，则隐藏底部导航栏
- 如果未设置或为 `false`，则显示底部导航栏

这是一个常见的 Vue Router 模式，通过路由元信息（meta）来控制页面级别的UI显示。

## 测试结果

✅ **积分商城** (`/points-mall`)
- 访问页面后，底部导航栏已隐藏
- 页面内容正常显示
- 可以通过左上角返回按钮返回

✅ **国货潮品** (`/trendy-products`)
- 访问页面后，底部导航栏已隐藏
- 页面内容正常显示

✅ **苏品苏货** (`/local-products`)
- 访问页面后，底部导航栏已隐藏
- 页面内容正常显示

## 其他已隐藏底部导航栏的页面

项目中还有其他页面也隐藏了底部导航栏，使用了相同的方式：

- `/search` - 搜索页面
- `/notifications` - 消息通知页面
- `/check-in` - 地图签到页面
- `/product-detail` - 商品详情页面
- `/product/:id` - 商品详情页面（带ID）
- `/heritage-brands` - 老字号品牌页面
- `/gov-subsidy` - 政府补贴页面
- `/membership` - 会员页面
- 等等...

## 部署状态

- ✅ 代码已在本地提交
- ✅ 本地测试通过
- ⚠️ GitHub 推送失败（认证过期）
- ⏳ 需要手动推送到 GitHub

## Git 提交信息

```bash
commit 9fd8163
隐藏积分商城、苏品苏货、国货潮品页面的底部导航栏
```

## 后续操作

由于 GitHub 认证已过期，需要手动推送代码：

### 方法一：重新认证 GitHub CLI
```bash
cd /home/ubuntu/rights-platform-v5
gh auth login
git push origin master
```

### 方法二：使用个人访问令牌
```bash
cd /home/ubuntu/rights-platform-v5
git push https://YOUR_TOKEN@github.com/Craigchan/rights-platform-v5.git master
```

### 方法三：在本地 Git 客户端推送
如果你有本地的 Git 客户端，可以：
1. 拉取最新代码：`git pull`
2. 查看提交：`git log`
3. 推送到 GitHub：`git push`

## 验证方法

推送到 GitHub 后，Cloudflare Pages 会自动部署。部署完成后，访问以下页面验证：

1. https://your-domain.pages.dev/#/points-mall
2. https://your-domain.pages.dev/#/trendy-products
3. https://your-domain.pages.dev/#/local-products

确认这三个页面都没有底部导航栏。

## 总结

通过在路由配置中添加 `meta: { hideTabBar: true }`，成功为积分商城、苏品苏货、国货潮品三个页面隐藏了底部导航栏，提供了更沉浸的浏览体验。

这种方式的优点：
- ✅ 简单易维护
- ✅ 不需要修改组件代码
- ✅ 符合 Vue Router 最佳实践
- ✅ 易于扩展到其他页面

